所有的查询操作都是基于model进行的
项目中id用字符串id,目的是为了查询方便(唯一去重等)
TODO
中间件中加入防止sql注入的功能
是否可以在初始化的结构体中指定goroutine的数量,然后利用channel通信

?如何接受一个数组参数

接口文档
    url:http://api.pipenv.com/v1/
    code:200表示成功   其他的表示异常


一:获取公号信息和biz信息接口:
    uri:wx/getBiz
    method:get
    params:{"mobile_id":"","Pn":0,"Ps":0}//mobile_id 每个手机是唯一的,必传参数
     pn ,ps默认是1和200，不传递就是1和200
    返回值:
        {
          "code": 200,
          "data": {
            "count": 1,
            "list": [
              { "id":"公号id"
                "biz": "MjM5OTcxMzE0MQ==",
                "name": "Go中国"
              }
            ]
          },
          "msg": "成功"
        }

二:获取点赞和阅读量接口:
    uri:wx/getApi
    method:get
    params:无
    返回值:
        {
          "code": 200,
          "data": {
            "count": 0,
            "list": [
                {"name":"点赞","url":"xxx","category":1}  //1是阅读点赞接口  2是详情接口 3是其他接口等
            ]
          },
          "msg": "成功"
        }


三:提交阅读数和点赞数接口
    uri:wx/readAndThumbCount
    method:post
    params:{"biz":"","article_id":"11","read_count":1,"thumb_count":1}
    biz和article_id是必传参数
    read_count:阅读数 类型:int
    thumb_count:点赞数:类型  int

    返回值:
    {
        "code":"",
        "msg":"",
        "data":""
    }

四:提交列表页数据接口
        (字段和pc端接口返回的字段差不多(兼容pc列表接口，可以应急数据))
        SourceUrl string    `json:"source_url"` //原始url
        Url       string    `json:"url"`        //文章url
        Title     string    `json:"title"`      //文章标题
        Ptime     time.Time `json:"ptime"`      //发布时间
        Biz       string    `json:"biz"`        //biz信息
        Digest    string    `json:"digest"`     //摘要
        Original  int       `json:"original"`   //原型信息
        Type      int       `json:"type"`       //api接口中的字段
        DelFlag   int       `json:"del_flag"`   //是否删除
        Cover     string    `json:"cover"`      //图链接

        uri:wx/addWxList
        method:post
        //url，title 和biz ptime是必传参数
        params:{"source_url":"11","url":1,"title":1,"ptime":"","biz":"","digest":"","original":"","cover":""}
        read_count:阅读数 类型:int
        thumb_count:点赞数:类型  int

        返回值:
        {
            "code":"",
            "msg":"",
            "data":""
        }


五:获取抓取列表新信息(近七天的):
    url:wx/nearly7Day
    paramm:{"biz":"",pn:1,ps:1}
    biz不传递，就是获取所有公号的数据(每页200条),如果传递就是获取某一个公号的数据(200条每页)
    //pn页码 ps每页多少条
    method:post
    返回值:
          返回值:
                {
                  "code": 200,
                  "data": {
                    "count": 0,
                    "list": [
                        {"biz":"biz","url":"xxx"}
                    ]
                  },
                  "msg": "成功"
                }


nginx异常配置总结:
mysql视图
https://blog.csdn.net/hxnlyw/article/details/81669964